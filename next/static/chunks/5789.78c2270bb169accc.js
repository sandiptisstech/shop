"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5789],{6965:function(e,t,r){var n=r(85893);t.Z=function(e){var t=e.width,r=e.height,l=e.strokeWidth,s=void 0===l?2:l,i=e.className;return(0,n.jsx)("svg",{width:t,height:r,className:i,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:s,d:"M7 16l-4-4m0 0l4-4m-4 4h18"})})}},55789:function(e,t,r){r.r(t),r.d(t,{default:function(){return R}});var n=r(85893),l=r(6965),s=r(11163),i=r(20868),o=r(94184),a=r.n(o),c=function(){var e=(0,s.useRouter)(),t=(0,i.$G)("common").t;return(0,n.jsxs)("button",{className:"inline-flex items-center justify-center text-accent font-semibold transition-colors hover:text-accent-hover focus:text-accent-hover focus:outline-none",onClick:e.back,children:[(0,n.jsx)(l.Z,{className:a()("w-5 h-5 ltr:mr-2 rtl:ml-2",{"transform rotate-180":"ar"===e.locale||"he"===e.locale}),strokeWidth:1.7}),t("text-back")]})},d=r(62565),m=r(56427),u=r(23947),x=r(47581),h=r(67294),f=r(18446),b=r.n(f),v=r(41609),p=r.n(v),g=r(13121),j=r(66261),y=function(e){var t=e.onClose,r=e.categories,l=e.basePath,o=(0,i.$G)("common").t;return(0,n.jsxs)("div",{className:"w-full mt-4 md:mt-6 pt-4 md:pt-6 flex flex-row items-start border-t border-border-200 border-opacity-60",children:[(0,n.jsx)("span",{className:"text-sm font-semibold text-heading capitalize ltr:mr-6 rtl:ml-6 py-1",children:o("text-categories")}),(0,n.jsx)("div",{className:"flex flex-row flex-wrap",children:null===r||void 0===r?void 0:r.map((function(e){return(0,n.jsx)("button",{onClick:function(){return r="".concat(l,"?category=").concat(e.slug),s.default.push(r),void(t&&t());var r},className:"lowercase text-sm text-heading tracking-wider whitespace-nowrap py-1 px-2.5 bg-transparent border border-border-200 rounded ltr:mr-2 rtl:ml-2 mb-2 transition-colors hover:border-accent hover:text-accent focus:outline-none focus:bg-opacity-100",children:e.name},e.id)}))})]})},N=r(98933),w=r(90551),k=r(70024),O=r(75550),_=r(57110),C=r(96720),P=r(92974),Z=r(46821),I=r(6390),S=r(36816),A=r(57016),M=r(37995),W=r(16052),E=r(15513),L=r(80621),$=r(86155);function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function G(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){G(e,t,r[t])}))}return e}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,l,s=[],i=!0,o=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(s.push(n.value),!t||s.length!==t);i=!0);}catch(a){o=!0,l=a}finally{try{i||null==r.return||r.return()}finally{if(o)throw l}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e){var t=e.productId,r=e.className,l=(0,W.aF)().isAuthorized,s=(0,E.n$)(t),i=s.toggleWishlist,o=s.isLoading,c=(0,E.tc)({enabled:l,product_id:t}),d=c.inWishlist,m=c.isLoading,u=(0,C.SO)().openModal;return o||m?(0,n.jsx)("div",{className:a()("mt-0.5 flex h-10 w-10 shrink-0 items-center justify-center rounded-full border border-gray-300",r),children:(0,n.jsx)(M.Z,{simple:!0,className:"flex h-5 w-5"})}):(0,n.jsx)("button",{type:"button",className:a()("mt-0.5 flex h-10 w-10 shrink-0 items-center justify-center rounded-full border border-gray-300 transition-colors",{"!border-accent":d},r),onClick:function(){l?i({product_id:t}):u("LOGIN_VIEW")},children:d?(0,n.jsx)(A.q,{className:"h-5 w-5 text-accent"}):(0,n.jsx)(S.P,{className:"h-5 w-5 text-accent"})})}var R=function(e){var t=e.product,r=e.backBtn,l=void 0===r||r,o=e.isModal,f=void 0!==o&&o,v=null!==t&&void 0!==t?t:{},S=v.id,A=v.name,M=v.image,W=v.description,E=v.unit,q=v.categories,G=v.gallery,R=v.type,V=v.quantity,B=v.shop,K=v.slug,D=v.ratings,U=(0,i.$G)("common").t,X=z((0,k.KO)(P.f),2),H=(X[0],X[1]),J=(0,s.useRouter)(),Q=(0,C.SO)().closeModal,Y=(0,h.useRef)(null),ee=(0,L.Z)(Y,{root:null,rootMargin:"0px",threshold:1});(0,h.useEffect)((function(){ee&&ee.isIntersecting?H(!1):ee&&!ee.isIntersecting&&H(!0)}),[ee]);var te,re=(0,Z.Ch)().attributes,ne=(0,m.ZP)({amount:(null===t||void 0===t?void 0:t.sale_price)?null===t||void 0===t?void 0:t.sale_price:null===t||void 0===t?void 0:t.price,baseAmount:null===t||void 0===t?void 0:t.price}),le=ne.price,se=ne.basePrice,ie=ne.discount,oe=function(e){J.push(e),Q()},ae=(0,h.useMemo)((function(){return(0,x.y)(null===t||void 0===t?void 0:t.variations)}),[null===t||void 0===t?void 0:t.variations]),ce=(0,_.V)(ae,re),de={};ce&&(de=null===t||void 0===t||null===(te=t.variation_options)||void 0===te?void 0:te.find((function(e){return b()(e.options.map((function(e){return e.value})).sort(),Object.values(re).sort())})));var me=!p()(ae),ue=(0,I._)(null===de||void 0===de?void 0:de.image,G,M);return(0,n.jsxs)("article",{className:"rounded-lg bg-light",children:[(0,n.jsxs)("div",{className:"flex flex-col border-b border-border-200 border-opacity-70 md:flex-row",children:[(0,n.jsxs)("div",{className:"p-6 pt-10 md:w-1/2 lg:p-14 xl:p-16",children:[(0,n.jsxs)("div",{className:"mb-8 flex items-center justify-between lg:mb-10",children:[l&&(0,n.jsx)(c,{}),ie&&(0,n.jsx)("div",{className:"rounded-full bg-yellow-500 px-3 text-xs font-semibold leading-6 text-light ltr:ml-auto rtl:mr-auto",children:ie})]}),(0,n.jsx)("div",{className:"product-gallery h-full",children:(0,n.jsx)(u.X,{gallery:ue,hideThumbs:ue.length<=1})})]}),(0,n.jsxs)("div",{className:"flex flex-col items-start p-5 pt-10 md:w-1/2 lg:p-14 xl:p-16",children:[(0,n.jsxs)("div",{className:"w-full",ref:Y,children:[(0,n.jsxs)("div",{className:"flex w-full items-start justify-between space-x-8 rtl:space-x-reverse",children:[(0,n.jsx)("h1",T({className:a()("text-lg font-semibold tracking-tight text-heading md:text-xl xl:text-2xl",{"cursor-pointer transition-colors hover:text-accent":f})},f&&{onClick:function(){return oe(w.Z.product(K))}},{children:A})),(0,n.jsx)("span",{children:(0,n.jsx)(F,{productId:S,className:a()({"mr-1":f})})})]}),(0,n.jsxs)("div",{className:"mt-2 flex items-center justify-between",children:[E&&!me&&(0,n.jsx)("span",{className:"block text-sm font-normal text-body",children:E}),f&&(0,n.jsxs)("div",{className:"inline-flex shrink-0 items-center rounded border border-accent bg-accent px-3 py-1 text-sm text-white",children:[D,(0,n.jsx)($.r,{className:"h-2.5 w-2.5 ltr:ml-1 rtl:mr-1"})]})]}),W&&(0,n.jsx)("div",{className:"mt-3 text-sm leading-7 text-body md:mt-4",children:(0,n.jsx)(g.Z,T({character:150},!f&&{onClick:function(){j.OK.scrollTo("details",{smooth:!0,offset:-80})},compressText:"common:text-see-more"},{children:W}))}),me?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"my-5 flex items-center md:my-10",children:(0,n.jsx)(N.Z,{selectedVariation:de,minPrice:t.min_price,maxPrice:t.max_price})}),(0,n.jsx)("div",{children:(0,n.jsx)(O.Z,{variations:ae})})]}):(0,n.jsxs)("span",{className:"my-5 flex items-center md:my-10",children:[(0,n.jsx)("ins",{className:"text-2xl font-semibold text-accent no-underline md:text-3xl",children:le}),se&&(0,n.jsx)("del",{className:"text-sm font-normal text-muted ltr:ml-2 rtl:mr-2 md:text-base",children:se})]}),(0,n.jsxs)("div",{className:"mt-6 flex flex-col items-center md:mt-6 lg:flex-row",children:[(0,n.jsx)("div",{className:"mb-3 w-full lg:mb-0 lg:max-w-[400px]",children:(0,n.jsx)(d.o,{data:t,variant:"big",variation:de,disabled:(null===de||void 0===de?void 0:de.is_disable)||!ce})}),!me&&(0,n.jsx)(n.Fragment,{children:Number(V)>0?(0,n.jsxs)("span",{className:"whitespace-nowrap text-base text-body ltr:lg:ml-7 rtl:lg:mr-7",children:[V," ",U("text-pieces-available")]}):(0,n.jsx)("div",{className:"whitespace-nowrap text-base text-red-500 ltr:lg:ml-7 rtl:lg:mr-7",children:U("text-out-stock")})}),!p()(de)&&(0,n.jsx)("span",{className:"whitespace-nowrap text-base text-body ltr:lg:ml-7 rtl:lg:mr-7",children:(null===de||void 0===de?void 0:de.is_disable)||0===de.quantity?U("text-out-stock"):"".concat(de.quantity," ").concat(U("text-pieces-available"))})]})]}),!!(null===q||void 0===q?void 0:q.length)&&(0,n.jsx)(y,{categories:q,basePath:"/".concat(null===R||void 0===R?void 0:R.slug),onClose:Q}),(null===B||void 0===B?void 0:B.name)&&(0,n.jsxs)("div",{className:"mt-2 flex items-center",children:[(0,n.jsx)("span",{className:"py-1 text-sm font-semibold capitalize text-heading ltr:mr-6 rtl:ml-6",children:U("common:text-sellers")}),(0,n.jsx)("button",{onClick:function(){return oe(w.Z.shop(null===B||void 0===B?void 0:B.slug))},className:"text-sm tracking-wider text-accent underline transition hover:text-accent-hover hover:no-underline",children:null===B||void 0===B?void 0:B.name})]})]})]}),(0,n.jsxs)(j.W_,{name:"details",className:"border-b border-border-200 border-opacity-70 px-5 py-4 lg:px-16 lg:py-14",children:[(0,n.jsx)("h2",{className:"mb-4 text-lg font-semibold tracking-tight text-heading md:mb-6",children:U("text-details")}),(0,n.jsx)("p",{className:"text-sm text-body",children:W})]})]})}}}]);
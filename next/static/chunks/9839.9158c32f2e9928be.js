(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9839],{44174:function(e){e.exports=function(e,r,t,n){for(var o=-1,i=null==e?0:e.length;++o<i;){var u=e[o];r(n,u,t(u),e)}return n}},81119:function(e,r,t){var n=t(89881);e.exports=function(e,r,t,o){return n(e,(function(e,n,i){r(o,e,t(e),i)})),o}},89881:function(e,r,t){var n=t(47816),o=t(99291)(n);e.exports=o},55189:function(e,r,t){var n=t(44174),o=t(81119),i=t(67206),u=t(1469);e.exports=function(e,r){return function(t,a){var c=u(t)?n:o,s=r?r():{};return c(t,e,i(a,2),s)}}},99291:function(e,r,t){var n=t(98612);e.exports=function(e,r){return function(t,o){if(null==t)return t;if(!n(t))return e(t,o);for(var i=t.length,u=r?i:-1,a=Object(t);(r?u--:++u<i)&&!1!==o(a[u],u,a););return t}}},7739:function(e,r,t){var n=t(89465),o=t(55189),i=Object.prototype.hasOwnProperty,u=o((function(e,r,t){i.call(e,t)?e[t].push(r):n(e,t,[r])}));e.exports=u},41609:function(e,r,t){var n=t(280),o=t(64160),i=t(35694),u=t(1469),a=t(98612),c=t(44144),s=t(25726),l=t(36719),f=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(a(e)&&(u(e)||"string"==typeof e||"function"==typeof e.splice||c(e)||l(e)||i(e)))return!e.length;var r=o(e);if("[object Map]"==r||"[object Set]"==r)return!e.size;if(s(e))return!n(e).length;for(var t in e)if(f.call(e,t))return!1;return!0}},18446:function(e,r,t){var n=t(90939);e.exports=function(e,r){return n(e,r)}},46821:function(e,r,t){"use strict";t.d(r,{iv:function(){return l},Ch:function(){return f}});var n=t(85893),o=t(67294);function i(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function u(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function a(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,i=[],u=!0,a=!1;try{for(t=t.call(e);!(u=(n=t.next()).done)&&(i.push(n.value),!r||i.length!==r);u=!0);}catch(c){a=!0,o=c}finally{try{u||null==t.return||t.return()}finally{if(a)throw o}}return i}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return i(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return i(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c={},s=o.createContext(c);s.displayName="AttributesContext";var l=function(e){var r=a(o.useState(c),2),t=r[0],i=r[1],l=o.useMemo((function(){return{attributes:t,setAttributes:i}}),[t]);return(0,n.jsx)(s.Provider,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){u(e,r,t[r])}))}return e}({value:l},e))},f=function(){var e=o.useContext(s);if(void 0===e)throw new Error("useAttributes must be used within a SettingsProvider");return e}},75550:function(e,r,t){"use strict";t.d(r,{Z:function(){return b}});var n=t(85893),o=t(94184),i=t.n(o);function u(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function a(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var c=function(e){var r=e.title,t=e.value,o=e.active,c=(e.className,e.color,a(e,["title","value","active","className","color"]));return(0,n.jsxs)("div",function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){u(e,r,t[r])}))}return e}({className:i()("h-full py-2 px-5 flex flex-col rounded items-center justify-center border border-gray-200 bg-gray-50 cursor-pointer text-body font-semibold",{"!border-accent !border-2 !text-accent":o})},c,{children:[(0,n.jsx)("span",{children:r}),(0,n.jsx)("span",{children:t})]}))};var s=function(e){var r=e.type,t=e.isActive,o=e.value,u=e.color,a=(e.attribute,e.variant),s=void 0===a?"normal":a,l=e.onClick;switch(r){case"formats":return(0,n.jsx)(c,{title:"Hardcover",value:"$9.59",active:t});case"color":return(0,n.jsx)("div",{role:"button",onClick:l,className:i()("flex h-11 w-11 cursor-pointer items-center justify-center rounded-full border-2 border-transparent p-0.5",{"!border-accent":t}),children:(0,n.jsx)("span",{className:"h-full w-full rounded-full border border-border-200",style:{backgroundColor:u}})});default:return(0,n.jsx)("div",{role:"button",onClick:l,className:i()("cursor-pointer whitespace-nowrap rounded border-border-200 bg-gray-50 px-4 py-3 text-sm text-heading transition-colors",{"!border-accent !bg-accent !text-light":t&&"normal"===s,"!border-accent !text-accent":t&&"outline"===s,"border-2 font-semibold":"outline"===s,border:"normal"===s}),children:o})}},l=t(46821),f=t(13123);function d(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var b=function(e){var r=e.variations,t=e.variant,o=(0,l.Ch)(),i=o.attributes,u=o.setAttributes;return(0,n.jsx)(n.Fragment,{children:Object.keys(r).map((function(e,o){return(0,n.jsxs)("div",{className:"flex items-center border-b border-border-200 border-opacity-70 py-4 first:pt-0 last:border-b-0 last:pb-0",children:[(0,n.jsxs)("span",{className:"inline-block min-w-[60px] whitespace-nowrap text-sm font-semibold capitalize leading-none text-heading ltr:mr-5 rtl:ml-5",children:[(a=e,a.replace(/-/g," "))," :"]}),(0,n.jsx)("div",{className:"-mb-5 w-full overflow-hidden",children:(0,n.jsx)(f.Z,{className:"w-full pb-5",options:{scrollbars:{autoHide:"never"}},children:(0,n.jsx)("div",{className:"-mb-1.5 flex w-full space-x-4 rtl:space-x-reverse",children:r[e].map((function(r){return(0,n.jsx)(s,{type:e,color:r.meta?r.meta:null===r||void 0===r?void 0:r.value,isActive:i[e]===r.value,value:r.value,variant:t,onClick:function(){return u((function(t){return function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){d(e,r,t[r])}))}return e}({},t,d({},e,r.value))}))}},r.id)}))})})})]},o);var a}))})}},98933:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});var n=t(85893),o=t(56427),i=t(41609),u=t.n(i);function a(e){var r=e.selectedVariation,t=e.minPrice,i=e.maxPrice,a=(0,o.ZP)(r&&{amount:Number(r.sale_price?r.sale_price:r.price),baseAmount:Number(r.price)}),c=a.price,s=a.basePrice,l=(0,o.ZP)({amount:Number(t)}).price,f=(0,o.ZP)({amount:Number(i)}).price;return(0,n.jsxs)("span",{className:"flex items-center",children:[(0,n.jsx)("ins",{className:"text-2xl md:text-3xl font-semibold text-accent no-underline",children:u()(r)?"".concat(l," - ").concat(f):"".concat(c)}),s&&(0,n.jsx)("del",{className:"text-sm md:text-base font-normal text-muted ltr:ml-2 rtl:mr-2",children:s})]})}},89839:function(e,r,t){"use strict";t.r(r);var n=t(85893),o=t(67294),i=t(47581),u=t(57110),a=t(75550),c=t(98933),s=t(18446),l=t.n(s),f=t(46821),d=t(62565),b=t(74354),p=function(e){var r,t=e.product,s=(0,f.Ch)().attributes,b=(0,o.useMemo)((function(){return(0,i.y)(null===t||void 0===t?void 0:t.variations)}),[null===t||void 0===t?void 0:t.variations]),p=(0,u.V)(b,s),v={};p&&(v=null===t||void 0===t||null===(r=t.variation_options)||void 0===r?void 0:r.find((function(e){return l()(e.options.map((function(e){return e.value})).sort(),Object.values(s).sort())})));return(0,n.jsxs)("div",{className:"w-[95vw] max-w-lg rounded-md bg-white p-8",children:[(0,n.jsx)("h3",{className:"mb-2 text-center text-2xl font-semibold text-heading",children:null===t||void 0===t?void 0:t.name}),(0,n.jsx)("div",{className:"mb-8 flex items-center justify-center",children:(0,n.jsx)(c.Z,{selectedVariation:v,minPrice:t.min_price,maxPrice:t.max_price})}),(0,n.jsx)("div",{className:"mb-8",children:(0,n.jsx)(a.Z,{variations:b})}),(0,n.jsx)(d.o,{data:t,variant:"big",variation:v,disabled:(null===v||void 0===v?void 0:v.is_disable)||!p})]})};r.default=function(e){var r=e.productSlug,t=(0,b.iB)({slug:r}),o=t.product;return t.isLoading||!o?(0,n.jsx)("div",{children:"Loading"}):(0,n.jsx)(f.iv,{children:(0,n.jsx)(p,{product:o})})}},74354:function(e,r,t){"use strict";t.d(r,{Bk:function(){return O},AM:function(){return h},OZ:function(){return j},os:function(){return g},iB:function(){return y},rn:function(){return m},k5:function(){return x}});var n=t(88767),o=t(10505),i=t(39128),u=t(16125);function a(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function c(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var s=function(e){var r=e||{},t=r.limit,n=void 0===t?30:t,o=r.price,i=r.categories,u=r.name,s=r.searchType,l=r.searchQuery,f=r.text,d=c(r,["limit","price","categories","name","searchType","searchQuery","text"]);return function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){a(e,r,t[r])}))}return e}({limit:n},o&&{min_price:o},u&&{name:u.toString()},i&&{categories:i.toString()},s&&{type:s.toString()},l&&{name:l.toString()},f&&{name:f.toString()},d)},l=t(20868),f=t(96720),d=t(40782),b=t(11163);function p(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function v(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){p(e,r,t[r])}))}return e}function m(e){var r,t,a=(0,b.useRouter)().locale,c=v({},s(e),{language:a}),l=(0,n.useInfiniteQuery)([i.P.PRODUCTS,c],(function(e){var r=e.queryKey,t=e.pageParam;return o.Z.products.all(Object.assign({},r[1],t))}),{getNextPageParam:function(e){var r=e.current_page;return e.last_page>r&&{page:r+1}}}),f=l.data,d=l.isLoading,p=l.error,m=l.fetchNextPage,g=l.hasNextPage,y=l.isFetching,x=l.isFetchingNextPage;return{products:null!==(t=null===f||void 0===f||null===(r=f.pages)||void 0===r?void 0:r.flatMap((function(e){return e.data})))&&void 0!==t?t:[],paginatorInfo:Array.isArray(null===f||void 0===f?void 0:f.pages)?(0,u.Q)(null===f||void 0===f?void 0:f.pages[f.pages.length-1]):null,isLoading:d,error:p,isFetching:y,isLoadingMore:x,loadMore:function(){m()},hasMore:Boolean(g)}}var g=function(e){var r=v({},e,{language:(0,b.useRouter)().locale}),t=(0,n.useQuery)([i.P.PRODUCTS_POPULAR,r],(function(e){var r=e.queryKey;return o.Z.products.popular(r[1])})),u=t.data;return{products:null!==u&&void 0!==u?u:[],isLoading:t.isLoading,error:t.error}};function y(e){var r=e.slug,t=(0,b.useRouter)().locale,u=(0,n.useQuery)([i.P.PRODUCTS,{slug:r,language:t}],(function(){return o.Z.products.get({slug:r,language:t})}));return{product:u.data,isLoading:u.isLoading,error:u.error}}function x(e){var r,t=(0,n.useQuery)([i.P.PRODUCTS_QUESTIONS,e],(function(e){var r=e.queryKey;return o.Z.products.questions(Object.assign({},r[1]))}),{keepPreviousData:!0}),a=t.data,c=t.isLoading,s=t.error,l=t.isFetching;return{questions:null!==(r=null===a||void 0===a?void 0:a.data)&&void 0!==r?r:[],paginatorInfo:(0,u.Q)(a),isLoading:c,error:s,isFetching:l}}function h(){var e=(0,l.$G)("common").t,r=(0,n.useQueryClient)(),t=(0,n.useMutation)(o.Z.products.createFeedback,{onSuccess:function(t){d.Am.success(e("text-feedback-submitted")),r.refetchQueries(i.P.PRODUCTS_QUESTIONS),r.refetchQueries(i.P.PRODUCTS_REVIEWS)}});return{createFeedback:t.mutate,isLoading:t.isLoading}}function O(){var e=(0,l.$G)("common").t,r=(0,f.SO)().closeModal,t=(0,n.useMutation)(o.Z.products.createAbuseReport,{onSuccess:function(){d.Am.success(e("text-abuse-report-submitted"))},onError:function(r){var t=(null!==r&&void 0!==r?r:{}).response.data;d.Am.error(e(null===t||void 0===t?void 0:t.message))},onSettled:function(){r()}});return{createAbuseReport:t.mutate,isLoading:t.isLoading}}function j(){var e=(0,l.$G)("common").t,r=(0,f.SO)().closeModal,t=(0,n.useQueryClient)(),u=(0,n.useMutation)(o.Z.products.createQuestion,{onSuccess:function(){d.Am.success(e("text-question-submitted"))},onError:function(r){var t=(null!==r&&void 0!==r?r:{}).response.data;d.Am.error(e(null===t||void 0===t?void 0:t.message))},onSettled:function(){t.refetchQueries(i.P.PRODUCTS_QUESTIONS),r()}});return{createQuestion:u.mutate,isLoading:u.isLoading}}},47581:function(e,r,t){"use strict";t.d(r,{y:function(){return i}});var n=t(7739),o=t.n(n);function i(e){return e?o()(e,"attribute.slug"):{}}},57110:function(e,r,t){"use strict";t.d(r,{V:function(){return i}});var n=t(41609),o=t.n(n);function i(e,r){return!!o()(e)||!o()(r)&&Object.keys(e).every((function(e){return r.hasOwnProperty(e)}))}}}]);
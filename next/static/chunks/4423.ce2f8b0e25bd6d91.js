(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4423,4537],{41609:function(e,t,r){var n=r(280),o=r(64160),i=r(35694),a=r(1469),u=r(98612),l=r(44144),c=r(25726),s=r(36719),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(u(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||s(e)||i(e)))return!e.length;var t=o(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!n(e).length;for(var r in e)if(d.call(e,r))return!1;return!0}},86155:function(e,t,r){"use strict";r.d(t,{r:function(){return i}});var n=r(85893);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=function(e){return(0,n.jsx)("svg",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){o(e,t,r[t])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25.056 24"},e,{children:(0,n.jsx)("g",{"data-name":"Group 36413",fill:"currentColor",children:(0,n.jsx)("path",{id:"Path_22667","data-name":"Path 22667",d:"M19.474,34.679l-6.946-4.346L5.583,34.679a.734.734,0,0,1-1.1-.8L6.469,25.93.263,20.668a.735.735,0,0,1,.421-1.3l8.1-.566,3.064-7.6a.765.765,0,0,1,1.362,0l3.064,7.6,8.1.566a.735.735,0,0,1,.421,1.3L18.588,25.93l1.987,7.949a.734.734,0,0,1-1.1.8Z",transform:"translate(0 -10.792)"})})}))}},46821:function(e,t,r){"use strict";r.d(t,{iv:function(){return s},Ch:function(){return d}});var n=r(85893),o=r(67294);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(l){u=!0,o=l}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l={},c=o.createContext(l);c.displayName="AttributesContext";var s=function(e){var t=u(o.useState(l),2),r=t[0],i=t[1],s=o.useMemo((function(){return{attributes:r,setAttributes:i}}),[r]);return(0,n.jsx)(c.Provider,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){a(e,t,r[t])}))}return e}({value:s},e))},d=function(){var e=o.useContext(c);if(void 0===e)throw new Error("useAttributes must be used within a SettingsProvider");return e}},53111:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Q}});var n=r(85893),o=r(37995),i=r(5152),a=r(20868),u=r(55789),l=r(11163),c=r(25675),s=r(94184),d=r.n(s),f=r(62565),v=r(56427),m=r(47581),p=r(18446),g=r.n(p),b=r(41609),y=r.n(b),h=r(98933),x=r(90551),j=r(96720),O=r(75550),w=r(57110),S=r(67294),P=r(46821),N=function(e){var t,r,o=e.product,i=e.isSticky,u=(0,l.useRouter)(),s=(0,a.$G)("common").t,p=(0,j.SO)().closeModal,b=(0,P.Ch)().attributes,N=null!==o&&void 0!==o?o:{},A=N.name,k=N.slug,C=N.image,L=N.unit,_=N.quantity,M=N.min_price,Q=N.max_price,E=(0,v.ZP)({amount:(null===o||void 0===o?void 0:o.sale_price)?null===o||void 0===o?void 0:o.sale_price:null===o||void 0===o?void 0:o.price,baseAmount:null===o||void 0===o?void 0:o.price}),I=E.price,R=E.basePrice,T=(E.discount,(0,S.useMemo)((function(){return(0,m.y)(null===o||void 0===o?void 0:o.variations)}),[null===o||void 0===o?void 0:o.variations])),Z=(0,w.V)(T,b),U={};Z&&(U=null===o||void 0===o||null===(r=o.variation_options)||void 0===r?void 0:r.find((function(e){return g()(e.options.map((function(e){return e.value})).sort(),Object.values(b).sort())})));var D,F=!y()(T);return(0,n.jsx)("div",{className:d()("fixed top-0 left-1/2 z-50 hidden h-auto w-full max-w-6xl -translate-x-1/2 transform bg-light px-8 py-6 shadow transition-all duration-300 md:block",{"invisible -translate-y-1/2 opacity-0":!i,"visible translate-y-0 opacity-100":i}),children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("div",{className:d()("relative flex shrink-0 items-center justify-center overflow-hidden rounded border border-border-200 border-opacity-70",{"h-28 w-28":!F,"h-40 w-40 lg:h-52 lg:w-52":F}),children:(0,n.jsx)(c.default,{src:null!==(D=null===U||void 0===U||null===(t=U.image)||void 0===t?void 0:t.original)&&void 0!==D?D:null===C||void 0===C?void 0:C.original,alt:A,layout:"fill",objectFit:"contain",className:"product-image"})}),(0,n.jsxs)("div",{className:"flex flex-col justify-center overflow-hidden px-8 ltr:mr-auto rtl:ml-auto",children:[(0,n.jsx)("h3",{className:"cursor-pointer truncate text-lg font-semibold tracking-tight text-heading transition-colors hover:text-accent lg:text-xl",onClick:function(){return e=x.Z.product(k),u.push(e),void p();var e},title:A,children:A}),L&&!F?(0,n.jsx)("span",{className:"mt-2 block text-sm font-normal text-body",children:L}):(0,n.jsx)("span",{className:"mt-2 flex items-center",children:F&&(0,n.jsx)(h.Z,{selectedVariation:U,minPrice:M,maxPrice:Q})})]}),(0,n.jsxs)("div",{className:d()("flex w-full shrink-0",{"max-w-max":!F,"max-w-[40%]":F}),children:[!F&&(0,n.jsxs)("span",{className:"flex items-center ltr:mr-8 rtl:ml-8 ",children:[(0,n.jsx)("ins",{className:"text-xl font-semibold text-accent no-underline lg:text-2xl",children:I}),R&&(0,n.jsx)("del",{className:"text-sm font-normal text-muted ltr:ml-2 rtl:mr-2 lg:text-base",children:R})]}),(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)("div",{className:d()("flex flex-col justify-center overflow-y-auto",{"h-[140px]":F}),children:(0,n.jsx)(O.Z,{variations:T})}),(0,n.jsx)("div",{className:d()({"mt-4":F}),children:_>0?(0,n.jsx)(f.o,{data:o,variant:"big",variation:U,disabled:(null===U||void 0===U?void 0:U.is_disable)||!Z}):(0,n.jsx)("div",{className:"rounded bg-red-500 px-3 py-2 text-sm text-light",children:s("text-out-stock")})})]})]})]})})},A=r(92974),k=r(70024),C=r(74354);function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(l){u=!0,o=l}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return L(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var M=(0,i.default)((function(){return r.e(6461).then(r.bind(r,36461))}),{loadableGenerated:{webpack:function(){return[36461]}}}),Q=function(e){var t=e.productSlug,r=(0,a.$G)("common").t,i=_((0,k.KO)(A.f),1)[0],l=(0,C.iB)({slug:t}),c=l.product,s=l.isLoading,d=c,f=null!==c&&void 0!==c?c:{},v=f.id,m=f.related_products;return s||!c?(0,n.jsx)("div",{className:"relative flex items-center justify-center w-96 h-96 bg-light",children:(0,n.jsx)(o.Z,{text:r("common:text-loading")})}):(0,n.jsx)(P.iv,{children:(0,n.jsxs)("article",{className:"bg-light w-full max-w-6xl xl:min-w-[1152px] relative z-[51] md:rounded-xl",children:[(0,n.jsx)(N,{product:d,isSticky:i}),(0,n.jsx)(u.default,{product:d,backBtn:!1,isModal:!0}),(null===m||void 0===m?void 0:m.length)>1&&(0,n.jsx)("div",{className:"p-5 md:pb-10 lg:p-14 xl:p-16",children:(0,n.jsx)(M,{products:m,currentProductId:v})})]})})}},74354:function(e,t,r){"use strict";r.d(t,{Bk:function(){return j},AM:function(){return x},OZ:function(){return O},os:function(){return b},iB:function(){return y},rn:function(){return g},k5:function(){return h}});var n=r(88767),o=r(10505),i=r(39128),a=r(16125);function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var c=function(e){var t=e||{},r=t.limit,n=void 0===r?30:r,o=t.price,i=t.categories,a=t.name,c=t.searchType,s=t.searchQuery,d=t.text,f=l(t,["limit","price","categories","name","searchType","searchQuery","text"]);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){u(e,t,r[t])}))}return e}({limit:n},o&&{min_price:o},a&&{name:a.toString()},i&&{categories:i.toString()},c&&{type:c.toString()},s&&{name:s.toString()},d&&{name:d.toString()},f)},s=r(20868),d=r(96720),f=r(40782),v=r(11163);function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){m(e,t,r[t])}))}return e}function g(e){var t,r,u=(0,v.useRouter)().locale,l=p({},c(e),{language:u}),s=(0,n.useInfiniteQuery)([i.P.PRODUCTS,l],(function(e){var t=e.queryKey,r=e.pageParam;return o.Z.products.all(Object.assign({},t[1],r))}),{getNextPageParam:function(e){var t=e.current_page;return e.last_page>t&&{page:t+1}}}),d=s.data,f=s.isLoading,m=s.error,g=s.fetchNextPage,b=s.hasNextPage,y=s.isFetching,h=s.isFetchingNextPage;return{products:null!==(r=null===d||void 0===d||null===(t=d.pages)||void 0===t?void 0:t.flatMap((function(e){return e.data})))&&void 0!==r?r:[],paginatorInfo:Array.isArray(null===d||void 0===d?void 0:d.pages)?(0,a.Q)(null===d||void 0===d?void 0:d.pages[d.pages.length-1]):null,isLoading:f,error:m,isFetching:y,isLoadingMore:h,loadMore:function(){g()},hasMore:Boolean(b)}}var b=function(e){var t=p({},e,{language:(0,v.useRouter)().locale}),r=(0,n.useQuery)([i.P.PRODUCTS_POPULAR,t],(function(e){var t=e.queryKey;return o.Z.products.popular(t[1])})),a=r.data;return{products:null!==a&&void 0!==a?a:[],isLoading:r.isLoading,error:r.error}};function y(e){var t=e.slug,r=(0,v.useRouter)().locale,a=(0,n.useQuery)([i.P.PRODUCTS,{slug:t,language:r}],(function(){return o.Z.products.get({slug:t,language:r})}));return{product:a.data,isLoading:a.isLoading,error:a.error}}function h(e){var t,r=(0,n.useQuery)([i.P.PRODUCTS_QUESTIONS,e],(function(e){var t=e.queryKey;return o.Z.products.questions(Object.assign({},t[1]))}),{keepPreviousData:!0}),u=r.data,l=r.isLoading,c=r.error,s=r.isFetching;return{questions:null!==(t=null===u||void 0===u?void 0:u.data)&&void 0!==t?t:[],paginatorInfo:(0,a.Q)(u),isLoading:l,error:c,isFetching:s}}function x(){var e=(0,s.$G)("common").t,t=(0,n.useQueryClient)(),r=(0,n.useMutation)(o.Z.products.createFeedback,{onSuccess:function(r){f.Am.success(e("text-feedback-submitted")),t.refetchQueries(i.P.PRODUCTS_QUESTIONS),t.refetchQueries(i.P.PRODUCTS_REVIEWS)}});return{createFeedback:r.mutate,isLoading:r.isLoading}}function j(){var e=(0,s.$G)("common").t,t=(0,d.SO)().closeModal,r=(0,n.useMutation)(o.Z.products.createAbuseReport,{onSuccess:function(){f.Am.success(e("text-abuse-report-submitted"))},onError:function(t){var r=(null!==t&&void 0!==t?t:{}).response.data;f.Am.error(e(null===r||void 0===r?void 0:r.message))},onSettled:function(){t()}});return{createAbuseReport:r.mutate,isLoading:r.isLoading}}function O(){var e=(0,s.$G)("common").t,t=(0,d.SO)().closeModal,r=(0,n.useQueryClient)(),a=(0,n.useMutation)(o.Z.products.createQuestion,{onSuccess:function(){f.Am.success(e("text-question-submitted"))},onError:function(t){var r=(null!==t&&void 0!==t?t:{}).response.data;f.Am.error(e(null===r||void 0===r?void 0:r.message))},onSettled:function(){r.refetchQueries(i.P.PRODUCTS_QUESTIONS),t()}});return{createQuestion:a.mutate,isLoading:a.isLoading}}}}]);
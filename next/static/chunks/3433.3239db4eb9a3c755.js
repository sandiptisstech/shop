"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3433],{23433:function(e,r,t){t.r(r),t.d(r,{default:function(){return f}});var n=t(85893),o=t(20868),a=t(74354),u=t(34265),i=t(92508),c=t(14685);function s(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function l(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){s(e,r,t[r])}))}return e}function f(e){var r=e.data,t=(0,o.$G)("common").t,s=(0,a.Bk)(),f=s.createAbuseReport,d=s.isLoading;return(0,n.jsx)("div",{className:"flex h-full min-h-screen w-screen flex-col justify-center bg-light p-7 md:h-auto md:min-h-0 md:max-w-[590px] md:rounded-xl",children:(0,n.jsx)(u.l,{onSubmit:function(e){f(l({},r,e))},children:function(e){var r=e.register;return(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)(i.Z,l({label:t("text-reason")},r("message"))),(0,n.jsx)(c.Z,{loading:d,disabled:d,children:t("text-report")})]})}})})}},92508:function(e,r,t){var n=t(85893),o=t(67294),a=t(94184),u=t.n(a);function i(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function c(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){i(e,r,t[r])}))}return e}function s(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var l={normal:"bg-gray-100 border border-border-base focus:shadow focus:bg-light focus:border-accent",solid:"bg-gray-100 border border-border-100 focus:bg-light focus:border-accent",outline:"border border-border-base focus:border-accent"},f=o.forwardRef((function(e,r){var t=e.className,o=e.label,a=e.name,i=e.error,f=e.variant,d=void 0===f?"normal":f,g=e.shadow,b=void 0!==g&&g,p=e.inputClassName,m=s(e,["className","label","name","error","variant","shadow","inputClassName"]);return(0,n.jsxs)("div",{className:t,children:[o&&(0,n.jsx)("label",{htmlFor:a,className:"block text-body-dark font-semibold text-sm leading-none mb-3",children:o}),(0,n.jsx)("textarea",c({id:a,name:a,className:u()("px-4 py-3 flex items-center w-full rounded appearance-none transition duration-300 ease-in-out text-heading text-sm focus:outline-none focus:ring-0",b&&"focus:shadow",l[d],p),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",rows:4,ref:r},m)),i&&(0,n.jsx)("p",{className:"my-2 text-xs text-red-500",children:i})]})}));f.displayName="TextArea",r.Z=f},74354:function(e,r,t){t.d(r,{Bk:function(){return P},AM:function(){return h},OZ:function(){return j},os:function(){return y},iB:function(){return v},rn:function(){return m},k5:function(){return O}});var n=t(88767),o=t(10505),a=t(39128),u=t(16125);function i(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function c(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var s=function(e){var r=e||{},t=r.limit,n=void 0===t?30:t,o=r.price,a=r.categories,u=r.name,s=r.searchType,l=r.searchQuery,f=r.text,d=c(r,["limit","price","categories","name","searchType","searchQuery","text"]);return function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){i(e,r,t[r])}))}return e}({limit:n},o&&{min_price:o},u&&{name:u.toString()},a&&{categories:a.toString()},s&&{type:s.toString()},l&&{name:l.toString()},f&&{name:f.toString()},d)},l=t(20868),f=t(96720),d=t(40782),g=t(11163);function b(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function p(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){b(e,r,t[r])}))}return e}function m(e){var r,t,i=(0,g.useRouter)().locale,c=p({},s(e),{language:i}),l=(0,n.useInfiniteQuery)([a.P.PRODUCTS,c],(function(e){var r=e.queryKey,t=e.pageParam;return o.Z.products.all(Object.assign({},r[1],t))}),{getNextPageParam:function(e){var r=e.current_page;return e.last_page>r&&{page:r+1}}}),f=l.data,d=l.isLoading,b=l.error,m=l.fetchNextPage,y=l.hasNextPage,v=l.isFetching,O=l.isFetchingNextPage;return{products:null!==(t=null===f||void 0===f||null===(r=f.pages)||void 0===r?void 0:r.flatMap((function(e){return e.data})))&&void 0!==t?t:[],paginatorInfo:Array.isArray(null===f||void 0===f?void 0:f.pages)?(0,u.Q)(null===f||void 0===f?void 0:f.pages[f.pages.length-1]):null,isLoading:d,error:b,isFetching:v,isLoadingMore:O,loadMore:function(){m()},hasMore:Boolean(y)}}var y=function(e){var r=p({},e,{language:(0,g.useRouter)().locale}),t=(0,n.useQuery)([a.P.PRODUCTS_POPULAR,r],(function(e){var r=e.queryKey;return o.Z.products.popular(r[1])})),u=t.data;return{products:null!==u&&void 0!==u?u:[],isLoading:t.isLoading,error:t.error}};function v(e){var r=e.slug,t=(0,g.useRouter)().locale,u=(0,n.useQuery)([a.P.PRODUCTS,{slug:r,language:t}],(function(){return o.Z.products.get({slug:r,language:t})}));return{product:u.data,isLoading:u.isLoading,error:u.error}}function O(e){var r,t=(0,n.useQuery)([a.P.PRODUCTS_QUESTIONS,e],(function(e){var r=e.queryKey;return o.Z.products.questions(Object.assign({},r[1]))}),{keepPreviousData:!0}),i=t.data,c=t.isLoading,s=t.error,l=t.isFetching;return{questions:null!==(r=null===i||void 0===i?void 0:i.data)&&void 0!==r?r:[],paginatorInfo:(0,u.Q)(i),isLoading:c,error:s,isFetching:l}}function h(){var e=(0,l.$G)("common").t,r=(0,n.useQueryClient)(),t=(0,n.useMutation)(o.Z.products.createFeedback,{onSuccess:function(t){d.Am.success(e("text-feedback-submitted")),r.refetchQueries(a.P.PRODUCTS_QUESTIONS),r.refetchQueries(a.P.PRODUCTS_REVIEWS)}});return{createFeedback:t.mutate,isLoading:t.isLoading}}function P(){var e=(0,l.$G)("common").t,r=(0,f.SO)().closeModal,t=(0,n.useMutation)(o.Z.products.createAbuseReport,{onSuccess:function(){d.Am.success(e("text-abuse-report-submitted"))},onError:function(r){var t=(null!==r&&void 0!==r?r:{}).response.data;d.Am.error(e(null===t||void 0===t?void 0:t.message))},onSettled:function(){r()}});return{createAbuseReport:t.mutate,isLoading:t.isLoading}}function j(){var e=(0,l.$G)("common").t,r=(0,f.SO)().closeModal,t=(0,n.useQueryClient)(),u=(0,n.useMutation)(o.Z.products.createQuestion,{onSuccess:function(){d.Am.success(e("text-question-submitted"))},onError:function(r){var t=(null!==r&&void 0!==r?r:{}).response.data;d.Am.error(e(null===t||void 0===t?void 0:t.message))},onSettled:function(){t.refetchQueries(a.P.PRODUCTS_QUESTIONS),r()}});return{createQuestion:u.mutate,isLoading:u.isLoading}}}}]);